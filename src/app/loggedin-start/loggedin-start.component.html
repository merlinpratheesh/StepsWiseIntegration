<mat-grid-list cols="10" rowHeight="10vh">
    <mat-grid-tile colspan="2" rowspan='10' [style.background]="'#F2F3F5'">
        <div *ngIf="profileRef | async as profiledetails ; else noprofile" fxLayout="column"
            fxLayoutAlign="space-between center">

            <div fxFlex="18vw" fxFlex="60vh" style="margin-top: 0px; " class="person">
                <div id="main-card">
                    <div class="cover-photo">
                        
                    </div>
                    <div class="photo">
                        <img src="{{profiledetails?.photoUrl}}" alt="">
                    </div>
                    <div class="content">
                        <h2 class="name">{{profiledetails?.profileName}}</h2>
                        <h3 class="fullstack">{{profiledetails?.areaOfinterest}}<br> {{profiledetails?.location}}</h3>
                        <h3 class="email">
                            <a href="mailto:{{profiledetails?.email}}">{{profiledetails?.email}}</a>
                        </h3>

                      <button  mat-raised-button color="primary" (click)="openBottomSheet()"
                    [disabled]="authDetails?.uid === null">Edit</button>
                    </div>
                    
                </div>
                
            </div>
            <mat-card fxFlex="18vw" fxFlex="40vh" style="  background: #F2F3F5;">
                <mat-card-header>
                    <mat-card-title>StepsWise</mat-card-title>
                    <mat-card-subtitle> Start Tasking
                        <pre class="case1 " appShowmore>
                            Instructions:Demo User can Create Projects for One Month free. 
                        </pre>
                    </mat-card-subtitle>
                </mat-card-header>

                <mat-card-content>
                    <h2>
                        Convert your work into tasks
                    </h2>
                </mat-card-content>
            </mat-card>
        </div>
        <ng-template #noprofile>
            No Profile
        </ng-template>
    </mat-grid-tile>
    <mat-grid-tile colspan="4" rowspan='1' [style.background]="'rgb(104, 175, 238);'">

        <div fxlayout="cloumn" class="wrapper">

            <div class="head">
                <input id="task-input" type="text" placeholder="Enter a new Task">
                <button class="add-task" (click)="newTaskforUser()">Add</button>
            </div>
        </div>

    </mat-grid-tile>

    <mat-grid-tile colspan="4" rowspan='1' [style.background]="'rgb(104, 175, 238)'">

        <mat-toolbar style="padding: 0px; background: #68afee;">


            <h1 style="color: #3d3d3e;" >
                StepsWise Tasking Tool
            </h1>

            <span fxFlex="grow"></span>

            <fa-icon (click)="logout()" class="fas faSignOutAlt fa-lg" [icon]="['fas', 'sign-out-alt']">Logout
            </fa-icon>
        </mat-toolbar>
        <mat-divider></mat-divider>
    </mat-grid-tile>


    <mat-grid-tile colspan="4" rowspan='9' style="background: #F2F3F5; display: fixed;">
        <mat-tab-group>
            <mat-tab class="header" style="color:#216fdb">
                <ng-template  style="color: #3d3d3e;"mat-tab-label>Public</ng-template>
                <ng-template matTabContent>
                    <div fxLayout="column" fxLayoutGap="5%"
                        *ngIf="(publicList | async) as projectDetails; else waitingload ">
                        <cdk-virtual-scroll-viewport itemSize="100" class="scroll-viewport">

                            <div>
                                <form>
                                    <mat-form-field>
                                        <input type="text" matInput [formControl]="emailFormControl"
                                            [errorStateMatcher]="matcher" placeholder="Enter Task Name"
                                            [matAutocomplete]="auto">
                                        <button mat-button *ngIf="emailFormControl.value !== ''" matSuffix
                                            mat-icon-button aria-label="Clear" (click)="emailFormControl.reset()">
                                            <mat-icon>close</mat-icon>
                                        </button>
                                        <mat-hint>Search for Public Tasks!</mat-hint>
                                        <mat-label>Search</mat-label>
                                        <mat-autocomplete #auto="matAutocomplete" color="#216fdb">
                                            <mat-option *ngFor="let option of optionsTasks" [value]="option">
                                                {{option}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-error
                                            *ngIf="emailFormControl.hasError('text') && !emailFormControl.hasError('required')">
                                            Please enter a valid Task Name
                                        </mat-error>
                                        <mat-error *ngIf="emailFormControl.hasError('required')">
                                            Task Name is <strong>required</strong>
                                        </mat-error>
                                    </mat-form-field>
                                </form>
                            </div>


                            <mat-accordion style="position:relative;">

                                <mat-expansion-panel fxLayout="row"
                                    style=" padding: 20px 10px;min-width:50%; background: #F2F3F5"
                                    *ngFor="let details of projectDetails">
                                    <mat-expansion-panel-header
                                        style="box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3); min-width:50%; ">
                                        <mat-panel-title fxFlex="grow" (click)="profileKeyRef(details)">

                                            {{details.projectName}}

                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <div fxFlexAlign="center" fxLayout="center center">
                                                <div fxLayout="column" style=" border-style:unset !important;">
                                                    <span mat-card-avatar
                                                        [ngStyle]="{'background-image': 'url(' + details.photoUrl + ')', 'background-size': 'cover' }"></span>
                                                </div>
                                            </div>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <mat-icon>account_circle</mat-icon>
                                    Created : {{details.creationDate.toDate() | date:'dd-mm-yyyy'}}
                                    <mat-divider></mat-divider>

                                    By: {{details.profileName}}
                                    <mat-divider></mat-divider>

                                    {{details.description}}

                                </mat-expansion-panel>
                            </mat-accordion>
                        </cdk-virtual-scroll-viewport>

                    </div>
                    <ng-template #waitingload>
                        <mat-spinner>

                        </mat-spinner>
                    </ng-template>
                </ng-template>
            </mat-tab>
            <mat-tab class="header" style="color:#216fdb" *ngIf="this.authDetails!==null">
                <ng-template  mat-tab-label>Private </ng-template>
                <ng-template matTabContent>

                    <div fxLayout="column" fxLayoutGap="5%"
                        *ngIf="(privateList | async) as projectDetails; else waitingload ">
                        <cdk-virtual-scroll-viewport itemSize="100" class="scroll-viewport">

                            <div>
                                <form>
                                    <mat-form-field>

                                        <input type="text" matInput [formControl]="emailFormControl"
                                            [errorStateMatcher]="matcher" placeholder="Enter Task Name"
                                            [matAutocomplete]="auto">
                                        <button mat-button *ngIf="emailFormControl.value !== ''" matSuffix
                                            mat-icon-button aria-label="Clear" (click)="emailFormControl.reset()">
                                            <mat-icon>close</mat-icon>
                                        </button>
                                        <mat-hint>Search for Private Tasks!</mat-hint>
                                        <mat-label>Search</mat-label>
                                        <mat-autocomplete #auto="matAutocomplete" color="#216fdb">
                                            <mat-option *ngFor="let option of optionsTasks" [value]="option">
                                                {{option}}
                                            </mat-option>
                                        </mat-autocomplete>
                                        <mat-error
                                            *ngIf="emailFormControl.hasError('text') && !emailFormControl.hasError('required')">
                                            Please enter a valid Task Name
                                        </mat-error>
                                        <mat-error *ngIf="emailFormControl.hasError('required')">
                                            Task Name is <strong>required</strong>
                                        </mat-error>
                                    </mat-form-field>
                                </form>
                            </div>


                            <mat-accordion style="position:relative;">

                                <mat-expansion-panel fxLayout="row"
                                    style=" padding: 20px 10px;     background: #F2F3F5;        min-width:50%;"
                                    *ngFor="let details of projectDetails">
                                    <mat-expansion-panel-header
                                        style="box-shadow: 2px 5px 10px rgba(0, 0, 0, 0.3); min-width:50%; ">
                                        <mat-panel-title fxFlex="grow" (click)="profileKeyRef(details)">

                                            {{details.projectName}}

                                        </mat-panel-title>
                                        <mat-panel-description>
                                            <div fxFlexAlign="center" fxLayout="center center">
                                                <div fxLayout="column" style=" border-style:unset !important;">
                                                    <span mat-card-avatar
                                                        [ngStyle]="{'background-image': 'url(' + details.photoUrl + ')', 'background-size': 'cover' }"></span>
                                                </div>
                                            </div>
                                        </mat-panel-description>
                                    </mat-expansion-panel-header>
                                    <mat-icon>account_circle</mat-icon>
                                    Created : {{details.creationDate.toDate() | date:'dd-mm-yyyy'}}
                                    <mat-divider></mat-divider>

                                    By: {{details.profileName}}
                                    <mat-divider></mat-divider>

                                    {{details.description}}

                                </mat-expansion-panel>
                            </mat-accordion>
                        </cdk-virtual-scroll-viewport>

                    </div>

                    <ng-template #waitingload>

                        <mat-spinner>
                        </mat-spinner>
                        No Private Projects. Create new One..
                    </ng-template>
                </ng-template>
            </mat-tab>
        </mat-tab-group>

    </mat-grid-tile>



    <mat-grid-tile colspan="4" rowspan="9" [style.background]="'#F2F3F5'">
        <app-nested-tree class="mattree" fxLayout="column" [Sections]="keyRef" [latestProject]="userselectedProject">
        </app-nested-tree>

    </mat-grid-tile>

</mat-grid-list>