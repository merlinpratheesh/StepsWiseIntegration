<mat-sidenav-container class="example-container">

    <mat-sidenav #sidenav mode="side" opened class="example-sidenav">

        <div fxLayout="column" fxLayoutAlign="space-between center">

            <div fxLayout="column" fxFlexAlign="start" fxLayoutGap="5%" fxLayoutAlign="space-between center">
                <div class="card">
                    <div class="img-div"
                        style="background-image: url(https://images3.alphacoders.com/113/1131150.png);">
                    </div>

                    <div class="content-div">
                        <div class="title-div">
                            <h2 class="title">STEPS WISE</h2>
                        </div>
                        <div class="desc-div">
                            <p class="desc-text">
                                Taskwise helps you create, manage and share tasks and deliverables with your
                                co-workers
                                and employees, keeping your business focused on what matters most.
                            </p>
                        </div>
                        <div class="watch-more-div">
                            <button class="watch-more" #tooltip="matTooltip"
                                matTooltip=" Please Login for Create New Task">Task now</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="case1 " appShowmore fxFlex="nogrow" fxFlexOffset="5%">
                Select the public Tasks to view the Steps. <br>
                Login to view/edit the private Tasks and keys.
                Create New Tasks. Share Tasks to the community.

            </div>
            <div>
                <h2 style=" margin-left: 10px;font-size: 15px;">
                    Convert your work into tasks
                </h2>
            </div>


            <div fxFlexOffset="5px">
                <img class="imageHeader"
                    src="https://st4.depositphotos.com/13324256/22740/i/600/depositphotos_227404530-stock-photo-cropped-view-woman-writing-word.jpg">
            </div>

        </div>


    </mat-sidenav>

    <mat-sidenav-content [formGroup]="options">
        <mat-grid-list cols="10" rowHeight="10vh" style="background: #bddbfa linear-gradient(to bottom, #bddbfa 5%, #80b5ea 100%);">
            <mat-grid-tile colspan="10" rowspan='1'  style="background: #bddbfa linear-gradient(to bottom, #bddbfa 5%, #80b5ea 100%);">

                <app-toolbar></app-toolbar>

            </mat-grid-tile>



            <mat-grid-tile colspan="5" rowspan='9' style="background: #F2F3F5 ;">



                <mat-tab-group (click)="sidenav.toggle()" style="  color:tomato ;background: #F2F3F5; height: 100%; "
                    fxFlex="grow">
                    <mat-tab label="Tab 1" style="color:#216fdb; ">
                        <ng-template mat-tab-label>Public</ng-template>
                        <ng-template matTabContent>

                            <div *ngIf="(obs| async) as projectDetails; else waitingload ">
                                <mat-accordion fxLayout="column">

                                    <mat-paginator [length]="100" style="width:100%;" [pageSize]="5"
                                        [pageSizeOptions]="[5,10,15,20]"></mat-paginator>
                                    <mat-expansion-panel (click)="sidenav.toggle(true)" fxLayoutGap="10px"
                                        style=" background: #f0f0f0" *ngFor="let details of projectDetails"
                                        (closed)="Expansionclose()">
                                        <mat-expansion-panel-header [collapsedHeight]="customCollapsedHeight"
                                            (click)="profileKeyRef(details)" style="width:90%; ">
                                            <mat-panel-title fxLayout="row" fxFlexAlign="center"
                                                style=" border-style:initial !important;" fxLayoutGap="30px">

                                                <div fxLayout="row">
                                                    <span mat-card-avatar
                                                        [ngStyle]="{'background-image': 'url(' + details.photoUrl + ')', 'background-size': 'cover' }"></span>

                                                </div>

                                                <button class="activebutton">
                                                    <mat-icon mat-list-avatar style="width:auto">dashboard</mat-icon>

                                                    {{details.projectName}}
                                                </button>



                                            </mat-panel-title>
                                            <mat-panel-description>

                                                {{details.creationDate.toDate() | date:'dd-mm-yyyy'}}




                                            </mat-panel-description>

                                        </mat-expansion-panel-header>

                                        {{details.description}}



                                        <app-nested-tree class="mattree"
                                            *ngIf="userselectedProject !== undefined && details.projectName === userselectedProject "
                                            fxLayout="column" [Sections]="keyRef" [latestProject]="userselectedProject">
                                        </app-nested-tree>



                                    </mat-expansion-panel>

                                </mat-accordion>

                            </div>


                            <ng-template #waitingload>
                                <mat-spinner>

                                </mat-spinner>
                            </ng-template>

                        </ng-template>


                    </mat-tab>
                    <mat-tab label="Tab 2" class="header" style="color:#216fdb ;" *ngIf="this.authDetails!==null">
                        <ng-template mat-tab-label>Private</ng-template>
                        <ng-template matTabContent>
                            Please Login For Add Private Projects
                        </ng-template>
                    </mat-tab>

                </mat-tab-group>

            </mat-grid-tile>
            <mat-grid-tile colspan="5" rowspan='1' style="background: #F2F3F5 ;">
                <div style="  color:tomato ;background: #F2F3F5; height: 100%; " fxFlex="grow"
                    style="overflow-x:hidden; " fxFlexFill cdkScrollable>
                    <div style=" width:535px; height: 58px;" class="main-header mat-elevation-z4"
                        (click)="openSearch()">
                        <mat-toolbar-row style="padding: 0 5px;">
                            <button mat-icon-button>
                                <mat-icon>menu</mat-icon>
                            </button>
                            <div [class.active]="toggleSearch" style="padding:8px 0 0 10px; flex:1;">
                                <div class="mat-title" style="margin-bottom:2px; font-size: 15px;">Search</div>
                                <div class="mat-subheading-2" style="line-height:.6rem;font-size: 15px;">Leader of the Free World</div>
                            </div>

                            <button mat-icon-button (click)="openSearch()">
                                <mat-icon>search</mat-icon>
                            </button>
                        </mat-toolbar-row>
                    </div>

                    <div class="search-block mat-elevation-z4" [class.active]="toggleSearch">
                        <mat-toolbar-row style="padding: 0 5px;">
                            <button class="search-icon" mat-icon-button disabled>
                                <mat-icon>search</mat-icon>
                            </button>
                            <input type="text" placeholder="Search Task Name" matInput [formControl]="emailFormControl"
                                [matAutocomplete]="auto">
                            <button mat-button mat-icon-button (click)="searchClose()">
                                <mat-icon>close</mat-icon>
                            </button>
                            <mat-autocomplete #auto="matAutocomplete" color="#216fdb">
                                <mat-option *ngFor="let option of optionsTasks" [value]="option">

                                    <div mat-line>{{option}}</div>

                                </mat-option>
                            </mat-autocomplete>
                        </mat-toolbar-row>
                    </div>

                </div>
            </mat-grid-tile>
            <mat-grid-tile colspan="5" rowspan='8' style="background: #F2F3F5 ;   " fxLayout="column" fxLayout="column" fxLayoutAlign="space-evenly end">
                <div fxLayout="column" class="menu-box block">
                    <h2 class="titular" >MENU BOX</h2>
                    <ul  fxLayoutGap="5%"  fxLayoutAlign="start" fxLayout="column" class="menu-box-menu">
                        <li>

                            <button class="button" (click)="ShowButton()">
                                profile
                            </button>
                        </li>
                        <li>
                            <button class="button" >
                                Change Order
                            </button>

                        </li>

                        <li>
                            <button class="button">
                                Add MainSecton

                            </button>

                        </li>
                        <li>
                            <button class="button">
                                Add SubSecton
                            </button>

                        </li>

                    </ul>
                </div>

                <div *ngIf="showSelected" xPosition="after">
                    <div *ngIf="profileRef | async as profiledetails ; else noSelectedProject "
                        fxLayoutAlign="space-between center" fxLayout="column">

                        <div style="height:40%;  float:inline-start;  " class="person">
                            <div id="main-card">
                                <div class="cover-photo">

                                </div>
                                <div class="photo">
                                    <img src="{{profiledetails?.photoUrl}}" alt="">
                                </div>
                                <div class="content">
                                    <h4 class="name">{{profiledetails?.profileName}}</h4>
                                    <h4 class="card__text">{{profiledetails?.areaOfinterest}}<br>
                                        {{profiledetails?.location}}</h4>
                                    <h6 class="email">
                                        <a href="mailto:{{profiledetails?.email}}">{{profiledetails?.email}}</a>
                                    </h6>


                                </div>

                            </div>

                        </div>
                        <div class="">
                            <h2>{{profiledetails?.membershipType}}</h2>
                        </div>
                        <ul class="card__info">
                            <li>
                                <span class="card__info__stats">{{profiledetails?.numberOfProjects}}</span>
                                <span>posts</span>
                            </li>
                            <li>
                                <span class="card__info__stats">47</span>
                                <span>followers</span>
                            </li>
                            <li>
                                <span class="card__info__stats">20</span>
                                <span>following</span>
                            </li>
                        </ul>

                        <mat-divider></mat-divider>
                        <button (click)="HideButton()" mat-flat-button color="primary" dense>
                            <mat-icon>exit_to_app</mat-icon>
                            close
                        </button>
                    </div>
                    <ng-template #noSelectedProject>
                        <h2>Please Select Project </h2>
                    </ng-template>

                </div>


            </mat-grid-tile>







        </mat-grid-list>
    </mat-sidenav-content>
</mat-sidenav-container>