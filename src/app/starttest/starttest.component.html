<mat-sidenav-container class="example-container">
    <mat-sidenav #sidenav mode="side" opened class="example-sidenav">
       
                <div *ngIf="profileRef | async as profiledetails ; else noprofile" fxLayout="column"
                    fxLayoutAlign="space-between center">

                    <div style="height:40%;" class="person">
                        <div id="main-card">
                            <div class="cover-photo">

                            </div>
                            <div class="photo">
                                <img src="{{profiledetails?.photoUrl}}" alt="">
                            </div>
                            <div class="content">
                                <h2 class="name">{{profiledetails?.profileName}}</h2>
                                <h3 class="card__text">{{profiledetails?.areaOfinterest}}<br>
                                    {{profiledetails?.location}}</h3>
                                <h3 class="email">
                                    <a href="mailto:{{profiledetails?.email}}">{{profiledetails?.email}}</a>
                                </h3>


                            </div>

                        </div>

                    </div>
                    <div class="">
                        <h2>{{profiledetails?.membershipType}}</h2>
                    </div>
                    <ul class="card__info">
                        <li>
                            <span class="card__info__stats">{{profiledetails?.numberOfProjects}}</span>
                            <span>posts</span>
                        </li>
                        <li>
                            <span class="card__info__stats">47</span>
                            <span>followers</span>
                        </li>
                        <li>
                            <span class="card__info__stats">20</span>
                            <span>following</span>
                        </li>
                    </ul>
                    <button mat-raised-button color="primary" (click)="openBottomSheet()"
                        [disabled]="authDetails?.uid === null">Edit</button>
                    <br>

                </div>
                <ng-template #noprofile>
                    <div fxLayout="column" fxFlexAlign="start" fxLayoutGap="5%" fxLayoutAlign="space-between center">
                        <div class="card">
                            <div class="img-div"
                                style="background-image: url(https://images3.alphacoders.com/113/1131150.png);">
                            </div>

                            <div class="content-div">
                                <div class="title-div">
                                    <h2 class="title">STEPS WISE</h2>
                                </div>
                                <div class="desc-div">
                                    <p class="desc-text">
                                        Taskwise helps you create, manage and share tasks and deliverables with your
                                        co-workers
                                        and employees, keeping your business focused on what matters most.
                                    </p>
                                </div>
                                <div class="watch-more-div">
                                    <button class="watch-more" #tooltip="matTooltip"
                                        matTooltip=" Please Login for Create New Task">Task now</button>
                                </div>
                            </div>
                        </div>


                        <div class="case1 " appShowmore fxFlex="nogrow" fxFlexOffset="5%">
                            Select the public Tasks to view the Steps. <br>
                            Login to view/edit the private Tasks and keys.
                            Create New Tasks. Share Tasks to the community.

                        </div>
                        <div>
                            <h2 style=" margin-left: 10px;">
                                Convert your work into tasks
                            </h2>
                        </div>


                        <div fxFlexOffset="5px">
                            <img class="imageHeader" 
                                src="https://st4.depositphotos.com/13324256/22740/i/600/depositphotos_227404530-stock-photo-cropped-view-woman-writing-word.jpg">
                        </div>


                    </div>

                </ng-template>

    </mat-sidenav>

    <mat-sidenav-content [formGroup]="options">
        <mat-grid-list cols="10" rowHeight="10vh">
            <mat-grid-tile colspan="10" rowspan='1' [style.background]="'rgb(104, 175, 238'">

                <mat-toolbar color="primary">

                    <img src="https://freeiconshop.com/wp-content/uploads/edd/task-done-flat.png" class="header">


                    <button mat-raised-button color="accent" fxFlexOffset="2%" fxFlex="100px">StepsWise</button>


                    <span>
                        <ul class="profile-social-links">


                            <li>
                                <a href="www.google.com" #tooltip="matTooltip" matTooltip="Create New Task">

                                    <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 24 24"
                                        fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34">
                                        </path>
                                        <polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon>
                                    </svg>
                                </a>
                            </li>

                            <li>
                                <a href="https://www.facebook.com/v1ctory" #tooltip="matTooltip"
                                    matTooltip="Share to a friend">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 24 24"
                                        fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <circle cx="18" cy="5" r="3"></circle>
                                        <circle cx="6" cy="12" r="3"></circle>
                                        <circle cx="18" cy="19" r="3"></circle>
                                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                                    </svg>
                                </a>
                            </li>

                            <li>
                                <a href="http://gmail.com" #tooltip="matTooltip" matTooltip="Mail us">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 24 24"
                                        fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                        </path>
                                        <polyline points="22,6 12,13 2,6"></polyline>
                                    </svg>
                                </a>
                            </li>
                            <li>
                                <a href="http://google.com" #tooltip="matTooltip" matTooltip="Visit us">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 24 24"
                                        fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
                                        </path>
                                    </svg>
                                </a>
                            </li>
                            <li>
                                <a href="http://google.com" #tooltip="matTooltip" matTooltip="Visit us">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 24 24"
                                        fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z">
                                        </path>
                                    </svg>
                                </a>
                            </li>

                            <li [matMenuTriggerFor]="menu">
                                <a #tooltip="matTooltip" matTooltip="Visit us">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="51" height="51" viewBox="0 0 24 24"
                                        fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M5.52 19c.64-2.2 1.84-3 3.22-3h6.52c1.38 0 2.58.8 3.22 3" />
                                        <circle cx="12" cy="10" r="3" />
                                        <circle cx="12" cy="12" r="10" />
                                    </svg>

                                </a>
                            </li>
                            <mat-menu #menu="matMenu" overlapTrigger="false">
                                <button mat-menu-item>
                                    <mat-icon>account_circle</mat-icon>
                                    <span>My Account</span>
                                </button>
                                <button mat-menu-item>
                                    <mat-icon>settings</mat-icon>
                                    <span>Settings</span>
                                </button>
                                <button mat-menu-item>
                                    <mat-icon>money</mat-icon>
                                    <span>Billing</span>
                                </button>
                            </mat-menu>





                        </ul>
                    </span>



                    <firebase-ui>
                        fxLayout="column" (signInSuccessWithAuthResult)="successCallback($event)"
                        (signInFailure)="errorCallback($event)" (uiShown)="uiShownCallback()"></firebase-ui>
                </mat-toolbar>



            </mat-grid-tile>



            <mat-grid-tile colspan="5" rowspan='9' style="background: #F2F3F5 ;">

                <mat-tab-group style="  color:tomato ;background: #F2F3F5; height: 100%; " fxFlex="grow">
                    <mat-tab label="Tab 1" style="color:#216fdb; ">
                        <ng-template mat-tab-label>Public</ng-template>
                        <ng-template matTabContent>

                            <div *ngIf="(obs| async) as projectDetails; else waitingload ">
                                <mat-accordion fxLayout="column" >

                                    <mat-paginator [length]="100" style="width:100%;" [pageSize]="5"
                                        [pageSizeOptions]="[5,10,15,20]"></mat-paginator>
                                    <mat-expansion-panel fxLayoutGap="10px"  
                                        style=" padding: 20px 10px; background: #f0f0f0"
                                        *ngFor="let details of projectDetails" (closed)="Expansionclose()">
                                        <mat-expansion-panel-header [collapsedHeight]="customCollapsedHeight" (click)="sidenav.toggle(false)" (click)="profileKeyRef(details)"
                                            style="width:88%; ">
                                            <mat-panel-title  fxLayout="row"  fxFlexAlign="center" style=" border-style:initial !important;" fxLayout="center center" fxLayoutGap="30px" fxFlex="grow" >
                                               
                                                    <div fxLayout="row" >
                                                        <span mat-card-avatar
                                                            [ngStyle]="{'background-image': 'url(' + details.photoUrl + ')', 'background-size': 'cover' }"></span>
                                                    
                                                </div>
                                              {{details.projectName}}
                                              {{details.description}}



                                            </mat-panel-title >
                                            <mat-panel-description fxFlex="grow">

                                                {{details.creationDate.toDate() | date:'dd-mm-yyyy'}}

                                              

                                            </mat-panel-description>
                                        </mat-expansion-panel-header>

                                        
                                            <button class="_27F2N" (click)="sidenav.toggle(false)">
                                           
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                            <path fill="currentColor" d="M19.1 17.2l-5.3-5.3 5.3-5.3-1.8-1.8-5.3 5.4-5.3-5.3-1.8 1.7 5.3 5.3-5.3 5.3L6.7 19l5.3-5.3 5.3 5.3 1.8-1.8z">
                                            </path></svg></button>
                                        <button   (click)="sidenav.toggle()"
                                        mat-raised-button color="accent">
                                        <mat-icon mat-list-avatar style="width:auto">person</mat-icon>

                                        {{details.profileName}} </button>See Profile
                                        <app-nested-tree class="mattree"
                                            *ngIf="userselectedProject !== undefined && details.projectName === userselectedProject "
                                            fxLayout="column" [Sections]="keyRef" [latestProject]="userselectedProject">
                                        </app-nested-tree>



                                    </mat-expansion-panel>

                                </mat-accordion>

                            </div>

                            <ng-template #waitingload>
                                <mat-spinner>

                                </mat-spinner>
                            </ng-template>

                        </ng-template>


                    </mat-tab>
                    <mat-tab label="Tab 2" class="header" style="color:#216fdb ;" *ngIf="this.authDetails!==null">
                        <ng-template mat-tab-label>Private</ng-template>
                        <ng-template matTabContent>
                            Please Login For Add Private Projects
                        </ng-template>
                    </mat-tab>

                </mat-tab-group>

            </mat-grid-tile>
            <mat-grid-tile colspan="5" rowspan='1' style="background: #F2F3F5 ;">
                <div style="  color:tomato ;background: #F2F3F5; height: 100%; " fxFlex="grow"
                    style="overflow-x:hidden; " fxFlexFill cdkScrollable>
                    <div style=" width:535px; height: 58px;" class="main-header mat-elevation-z4"
                        [class.hidden]="toggleSearch">
                        <mat-toolbar-row style="padding: 0 5px;">
                            <button mat-icon-button>
                                <mat-icon>menu</mat-icon>
                            </button>
                            <div style="padding:8px 0 0 10px; flex:1;">
                                <div class="mat-title" style="margin-bottom:2px;">Search</div>
                                <div class="mat-subheading-2" style="line-height:.6rem;">Leader of the Free World</div>
                            </div>

                            <button mat-icon-button (click)="openSearch()">
                                <mat-icon>search</mat-icon>
                            </button>
                        </mat-toolbar-row>
                    </div>

                    <div class="search-block mat-elevation-z4" [class.active]="toggleSearch">
                        <mat-toolbar-row style="padding: 0 5px;">
                            <button class="search-icon" mat-icon-button disabled>
                                <mat-icon>search</mat-icon>
                            </button>
                            <input type="text" placeholder="Search Task Name" matInput [formControl]="emailFormControl"
                                [matAutocomplete]="auto">
                            <button mat-button mat-icon-button (click)="searchClose()">
                                <mat-icon>close</mat-icon>
                            </button>
                            <mat-autocomplete #auto="matAutocomplete" color="#216fdb">
                                <mat-option *ngFor="let option of optionsTasks" [value]="option">

                                    <div mat-line>{{option}}</div>

                                </mat-option>
                            </mat-autocomplete>
                        </mat-toolbar-row>
                    </div>

                </div>
            </mat-grid-tile>
            <mat-grid-tile colspan="5" rowspan='8' style="background: #F2F3F5 ;">

            </mat-grid-tile>







        </mat-grid-list>
    </mat-sidenav-content>
</mat-sidenav-container>